---
import { getOptimizedImageUrl } from "../utils/images";

interface Props {
  content: any;
  showCategory?: boolean;
}

const { content, showCategory = true } = Astro.props;

// Get content path based on collection type
const path = `/${content.collection}/${content.slug}`;
---

<article class="card bg-base-200/20 shadow-xl hover:shadow-2xl transition-shadow h-full">
  <figure class="relative aspect-[16/9]">
    <img
      src={getOptimizedImageUrl(content.data.image?.src, 600)}
      alt={content.data.image?.alt || content.data.title}
      class="w-full h-full object-cover"
    />
  </figure>
  <div class="card-body">
    {showCategory && content.data.category && (
      <div class="flex items-center gap-2 mb-2">
        <span class="badge badge-primary">{content.data.category}</span>
      </div>
    )}
    <h3 class="card-title mb-2">
      <a href={path} class="hover:text-primary">
        {content.data.title}
      </a>
    </h3>
    <p class="text-base-content/70">{content.data.description}</p>
  </div>
</article>
